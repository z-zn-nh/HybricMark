import { I18nText } from '../../../components/site/I18nProvider'

# <I18nText en="Footnotes & Math" zh="注脚与数学公式" />

<I18nText
  en="HybricMark supports note-like footnote syntax and KaTeX-based math rendering in the same document flow."
  zh="HybricMark 在同一文档流中支持注脚语法与基于 KaTeX 的数学公式渲染。"
/>

## <I18nText en="Footnote syntax" zh="注脚语法" />

```md
This is a sentence[^1].

[^1]: Footnote content here.
```

<I18nText
  en="Reference token `[^1]` is rendered as clickable reference. Definition line keeps editable source text and supports back-reference jump."
  zh="引用标记 `[^1]` 会渲染为可点击引用；定义行保留可编辑源文本，并支持回跳按钮。"
/>

## <I18nText en="Math syntax" zh="数学公式语法" />

```md
Inline: $E = mc^2$

Block:
$$
\int_0^1 x^2 \, dx = 1/3
$$
```

<I18nText
  en="Math rendering uses `@tiptap/extension-mathematics` and KaTeX. `throwOnError` is disabled for resilient typing."
  zh="数学渲染基于 `@tiptap/extension-mathematics` + KaTeX，且 `throwOnError` 关闭以提高输入容错。"
/>

## <I18nText en="Operations from context menu" zh="右键菜单能力" />

- <I18nText en="Insert footnote placeholder." zh="插入注脚占位。" />
- <I18nText en="Insert math block." zh="插入数学公式块。" />
- <I18nText en="Clear style for selected text/block when needed." zh="按需清除选中或整段样式。" />

## <I18nText en="Integration notes" zh="集成注意事项" />

- <I18nText en="Import KaTeX CSS in app entry." zh="应用入口必须引入 KaTeX CSS。" />
- <I18nText en="Persist JSON to preserve semantic math/footnote nodes." zh="建议存 JSON，以保留语义化公式和注脚结构。" />

```ts
import 'katex/dist/katex.min.css'
```
