import { I18nText } from '../../../components/site/I18nProvider'

# <I18nText en="Block Identity" zh="块级身份" />

<I18nText
  en="Block identity is the core reason HybricMark is suited for product-grade editor systems."
  zh="块级身份是 HybricMark 适合产品级编辑系统的核心原因。"
/>

## <I18nText en="What plain Markdown misses" zh="纯 Markdown 的缺口" />

<I18nText
  en="Markdown stores structure, but does not guarantee durable IDs for each paragraph or heading. After edits, it is hard to reference one exact block."
  zh="Markdown 保存结构，但不会保证每个段落/标题都有稳定 ID。经过编辑后，很难精准引用某个块。"
/>

## <I18nText en="HybricMark strategy" zh="HybricMark 策略" />

<I18nText
  en="`@tiptap/extension-unique-id` is configured in the default stack. Core block nodes receive `attrs.id` during editing."
  zh="默认扩展栈内已配置 `@tiptap/extension-unique-id`，核心块节点在编辑过程中自动获得 `attrs.id`。"
/>

```json
{
  "type": "paragraph",
  "attrs": {
    "id": "f7652fb0-0815-4f41-9efb-b67fe7b18390"
  },
  "content": [{ "type": "text", "text": "Block-level targeting" }]
}
```

## <I18nText en="What this unlocks" zh="它带来的能力" />

- <I18nText en="Block comments and review anchors" zh="按块评论与评审锚点" />
- <I18nText en="Deterministic references between cards/blocks" zh="卡片与块之间的稳定引用" />
- <I18nText en="Partial persistence (patch only changed blocks)" zh="局部持久化（只 patch 变更块）" />
- <I18nText en="Reliable extract-to-card workflows" zh="稳定的摘录到卡片工作流" />

## <I18nText en="Storage recommendation" zh="存储建议" />

<I18nText
  en="Persist JSON as source of truth. Derive HTML only for rendering/export. This keeps block IDs and semantic node structure intact."
  zh="建议以 JSON 作为事实源，HTML 仅用于展示或导出，这样可以保留块级 ID 与语义结构。"
/>
