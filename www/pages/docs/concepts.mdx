import { I18nText } from '../../components/site/I18nProvider'

# <I18nText en="Core Concepts" zh="核心概念" />

## <I18nText en="1. Uncontrolled editor architecture" zh="1. 非受控编辑器架构" />

<I18nText en="HybricMark is intentionally uncontrolled." zh="HybricMark 采用有意的非受控架构。" />

<I18nText en="You should not feed `content` back into the editor on every keystroke. Doing so can break IME composition (Chinese/Japanese input) and cause cursor jump issues." zh="不要在每次按键时把 `content` 重新喂回编辑器。这样会破坏 IME 组合输入（中文/日文）并导致光标跳动。" />

<I18nText en="Recommended model:" zh="推荐模式：" />

- <I18nText en="Use `content` as initial value." zh="`content` 仅作为初始值。" />
- <I18nText en="Use `onChange` for immediate UI sync." zh="`onChange` 用于即时 UI 联动。" />
- <I18nText en="Use `onDebouncedUpdate` for persistence." zh="`onDebouncedUpdate` 用于持久化写入。" />

## <I18nText en="2. Block identity as first-class data" zh="2. 块级身份是一等数据" />

<I18nText en="Every core block can carry a UUID under `attrs.id`." zh="每个核心块节点都可在 `attrs.id` 上携带 UUID。" />

<I18nText en="This enables:" zh="这使你可以实现：" />

- <I18nText en="block-level comments" zh="块级评论" />
- <I18nText en="targeted patch APIs" zh="定向 patch 接口" />
- <I18nText en="stable references for card extraction and linking" zh="稳定的摘录引用与链接跳转" />

## <I18nText en="3. Hybrid editing interaction" zh="3. 混合编辑交互" />

<I18nText en="The writing surface remains clean while advanced actions live in contextual interaction points:" zh="写作界面保持干净，进阶能力放在上下文交互点：" />

- <I18nText en="markdown shortcuts" zh="Markdown 快捷输入" />
- <I18nText en="right-click context menu" zh="右键上下文菜单" />
- <I18nText en="keyboard shortcuts" zh="键盘快捷键" />

## <I18nText en="4. Headless product integration" zh="4. 无头式产品集成" />

<I18nText en="HybricMark focuses on behavior and data model." zh="HybricMark 聚焦在行为与数据模型层。" />

<I18nText en="You can replace or redesign surrounding UI while keeping editor internals stable." zh="你可以重做外层 UI，而保持编辑器内核稳定。" />

## <I18nText en="5. Persistence and event strategy" zh="5. 持久化与事件策略" />

- <I18nText en="Use `onDebouncedUpdate` for backend writes." zh="使用 `onDebouncedUpdate` 进行后端写入。" />
- <I18nText en="Keep server writes idempotent." zh="保持服务端写入幂等。" />
- <I18nText en="Track version/revision fields for conflict handling in collaborative products." zh="为协同场景追踪 version/revision 字段用于冲突处理。" />
